The general pip installation overrides the dependencies that are lined out in the environment.yml.

Remove the broken NumPy + scikit-image that pip installed
pip uninstall -y numpy scikit-image matplotlib contourpy cycler fonttools pyparsing python-dateutil six zipp

Install NumPy 1.19.5 from conda-forge only

(so it comes with correct MKL/BLAS ABI)
conda install -y numpy=1.19.5 scipy=1.5.4 -c conda-forge

Install scikit-image 0.17.2 but force pip NOT to upgrade NumPy

To do this safely:
pip install --no-deps scikit-image==0.17.2

Verify:
python -c "import numpy, skimage, vispy; print(numpy.__version__, skimage.__version__, vispy.__version__)"
Expected:
1.19.5 0.17.2 0.6.6


Other Dependencies:
conda install -c conda-forge pytables=3.6.1 #PyTables 3.6.1 is the last version compatible with NumPy 1.19.x // Sashimi uses flammkuchen â†’ flammkuchen uses PyTables

conda install -c conda-forge dask=2021.3.0 distributed=2021.3.0 #2021.3.0 is the last stable release supporting NumPy 1.19; Napari 0.4.x is compatible with this Dask release; Installing distributed ensures the Dask scheduler is complete (Napari imports parts of it)

conda install -c conda-forge lxml_html_clean
OR
conda install -c conda-forge lxml_html_clean
(Can't remember which)

pip uninstall napari -y
pip install "napari==0.4.7"

python -c "import napari, numpy; print(napari.__version__, numpy.__version__)"

pip uninstall pydantic -y
pip install "pydantic==1.10.12"
